<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Simple Video Call </title>
<script type="text/javascript" src="/static/js/adapter.js" ></script>
<script type="text/javascript" src="/static/js/jquery.min.js" ></script>
<script type="text/javascript" src="/static/js/jquery.blockUI.js" ></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/bootbox.min.js"></script>
<script type="text/javascript" src="/static/js/spin.min.js"></script>
<script type="text/javascript" src="/static/js/janus.js" ></script>
<!--<script type="text/javascript" src="/static/js/video_chat.js"></script>-->
<script type="text/javascript" src="/static/js/videocalltest.js"></script>
<script>
    var videoCall = new SimpleVideoChat();
    videoCall.initialize();
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="/static/css/demo.css" type="text/css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css" type="text/css"/>
<link rel="stylesheet" href="/static/css/templatemo-style.css" type="text/css">
</head>
<body>

<div class="site-bg"></div>
<div class="site-bg-overlay"></div>

<div class="container">
	<div class="row">
		<div class="col-md-12">
            <div class="logo-holder logo-top-margin">
                <a href="#" class="site-brand"><img src="/static/images/logo.png" alt=""></a>
            </div>
			<div class="container homepage home-section text-center" style="margin-top: 30px" id="videocall">
				<div class="row">
					<div class="col-md-12" id="intro">
						<h3 style="color: #d9edf7">Simple Video Chat</h3>
						<p>This is just a simple example which uses webRTC to perform a video call.</p>
						<p>To Use it just register any alphanumeric username and open another window and repeat process or register through another device. After
							registration use the input the username for the other device registered and enjoy a video call. On this video call you can send arbitrary data through the data channel
							once the call is started by typing characters on the text chat input box. Enjoy!</p>
					</div>
				</div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="col-md-12 container" id="login">
                            <div class="input-group margin-bottom-sm" style="margin-top: 20px">
                                <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
                                <input class="form-control" type="text" placeholder="Choose a username" autocomplete="off" id="username" onkeypress="return videoCall.checkEnter(this, event);">
                            </div>
                            <button class="btn btn-success margin-bottom-sm" type="submit" id="register" onclick="videoCall.buttonSubmit()">Register</button><span class="hide label label-info" id="youok"></span>
                        </div>
                        <div class="col-md-12 container hide" id="phone">
                            <div class="input-group margin-bottom-sm">
                                <span class="input-group-addon"><i class="fa fa-phone fa-fw"></i></span>
                                <input class="form-control" type="text" placeholder="Who should we call?" autocomplete="off" id="peer" onkeypress="return videoCall.checkEnter(this, event);"></input>
                            </div>
                            <button class="btn btn-success margin-bottom-sm" autocomplete="on" id="call" onclick="videoCall.doCall()">Call</button>
                        </div>
                    </div>
                    <div/>
				<div id="videos" class="hide">
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Local Stream
									<div class="btn-group btn-group-xs pull-right hide">
										<button class="btn btn-danger" autocomplete="off" id="toggleaudio">Disable audio</button>
										<button class="btn btn-danger" autocomplete="off" id="togglevideo">Disable video</button>
										<div class="btn-group btn-group-xs">
											<button autocomplete="off" id="bitrateset" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
												Bandwidth<span class="caret"></span>
											</button>
											<ul id="bitrate" class="dropdown-menu" role="menu">
												<li><a href="#" id="0">No limit</a></li>
												<li><a href="#" id="128">Cap to 128kbit</a></li>
												<li><a href="#" id="256">Cap to 256kbit</a></li>
												<li><a href="#" id="512">Cap to 512kbit</a></li>
												<li><a href="#" id="1024">Cap to 1mbit</a></li>
												<li><a href="#" id="1500">Cap to 1.5mbit</a></li>
												<li><a href="#" id="2000">Cap to 2mbit</a></li>
											</ul>
										</div>
									</div>
								</h3>
							</div>
							<div class="panel-body" id="videoleft"></div>
						</div>
						<div class="input-group margin-bottom-sm">
							<span class="input-group-addon"><i class="fa fa-cloud-upload fa-fw"></i></span>
							<input class="form-control" type="text" placeholder="Write a DataChannel message to your peer" autocomplete="off" id="datasend" onkeypress="return videoCall.checkEnter(this, event);" disabled></input>
						</div>
					</div>
					<div class="col-md-6">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title">Remote Stream <span class="label label-info hide" id="callee"></span> <span class="label label-primary hide" id="curres"></span> <span class="label label-info hide" id="curbitrate"></span></h3>
							</div>
							<div class="panel-body" id="videoright"></div>
						</div>
						<div class="input-group margin-bottom-sm">
							<span class="input-group-addon"><i class="fa fa-cloud-download fa-fw"></i></span>
							<input class="form-control" type="text" id="datarecv" disabled></input>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<hr>
	<div class="footer">
	</div>
</div>
</div>
</body>
</html>
